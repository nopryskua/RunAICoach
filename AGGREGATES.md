| **Metric Name**                  | **Aggregations**                               | **Explanation**                                                                                                                                                                                                           | **Calculation**                                                                                                                                                          |
| -------------------------------- | ---------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Average Running Power**        | 30 s rolling window; also single-session value | Provides the most direct, lag-free measure of mechanical output. Because power is agnostic to GPS noise and cardiac latency, it offers the AI coach an unvarnished view of effort in real time, even on variable terrain. | $P_{avg} = \frac{1}{N}\sum_{i=1}^{N}P_i$, where $P_i$ is instantaneous power (W) sampled each second; $N=30$ for 30 s window.                                            |
| **Average Running Pace**         | 30 s and 60 s window; also single-session value       | The fundamental pacing metric. Real-time pace lets the coach ensure the athlete is on track for their target finish time or effort zone, adjusting speed up or down “on the fly.”                                         | $v_{avg} = \frac{\Delta d}{\Delta t}$ (e.g. meters per second); pace = inverse (min/km). Over 60 s: $\frac{\sum d_i}{60}$.                                               |
| **Grade-Adjusted Pace (GAP)**    | 60 s window                                    | Normalizes pace for slope so that uphill and downhill efforts can be fairly compared to flat running. Allows the AI to give equitable feedback regardless of gradient.                                                    | Use a standard GAP formula (e.g. Strava’s): $GAP = Pace \times f(grade)$, where $f(grade)$ is an empirically derived adjustment factor based on current percent incline. |
| **Average Heart Rate (HR)**      | 30 s and 60 s windows; session maxima/minima   | Captures internal load and physiological strain. Instantaneous HR helps detect when the athlete exceeds safe zones or when they are under-exerting relative to target effort.                                             | $HR_{avg} = \frac{1}{N}\sum_{i=1}^{N}HR_i$, samples per second over window (e.g. $N=60$).                                                                                |
| **Rate of Change of Pace**       | Difference between consecutive 60 s windows    | Reveals acceleration or deceleration trends—key indicators of fatigue onset, surges, or tactical pacing shifts.                                                                                                           | $\Delta Pace = Pace_{t} - Pace_{t-1}$, where each is the average pace of minute $t$ and $t-1$.                                                                           |
| **Rate of Change of HR**         | Difference between consecutive 60 s windows    | Exposes how quickly the cardiovascular system responds to effort changes—rapid spikes may hint at overexertion, while lag may suggest good fitness or delayed strain.                                                     | $\Delta HR = HR_{avg,t} - HR_{avg,t-1}$.                                                                                                                                 |
| **Cadence (Steps/min)**          | 30 s or 60 s window                            | A proxy for running form and efficiency. A higher cadence often correlates with reduced impact forces and smoother gait; low cadence can trigger AI-advice on turnover enhancement.                                       | $Cadence = \frac{\text{steps in window} \times 60}{\Delta t}$. E.g., if 45 steps in 30 s: $45 \times 2 = 90$ spm.                                                        |
| **Stride Length**                | 60 s window                                    | In tandem with cadence, it informs the AI about stride mechanics—overstriding increases braking forces, too short a stride wastes energy.                                                                                 | $Stride = \frac{\Delta d}{\text{steps in same window}}$ (meters per step).                                                                                               |
| **Grade (Slope %)**              | Instantaneous; optionally 10 s smoothing       | Directly influences both pace and physiological load. When the coach knows the exact incline, it can tailor advice for uphill power efforts or downhill control strategies.                                               | $\text{Grade in percent} = \frac{\Delta h}{\Delta d_{horiz}} \times 100$, where $\Delta h$ is elevation change over the horizontal distance.                                      |
| **Heart Rate Drift (ΔHR)**       | Trend over 5–10 min sustained effort           | Signals accumulating fatigue or dehydration when HR climbs despite constant pace. A rising drift alerts the AI to recommend hydration, fueling, or pace reduction to stave off overreach.                                 | Compute slope of HR vs. time over the fatigue window (e.g. linear regression) or simply $\Delta HR = HR_{end\ of\ window} - HR_{start\ of\ window}$ across 5–10 min.     |
